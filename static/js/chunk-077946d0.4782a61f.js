(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-077946d0"],{"2fd4":function(t,e,a){"use strict";a("99af");var n=a("b775");e["a"]={getAttendanceListPage:function(t,e,a){return Object(n["a"])({url:"/staff/attendance/listPage/".concat(t,"/").concat(e),method:"post",data:a})},getAttendance:function(t,e,a){return Object(n["a"])({url:"/staff/attendance/getAttendance/".concat(t,"/").concat(e),method:"post",data:a})},deleteAttendanceById:function(t){return Object(n["a"])({url:"/staff/attendance/".concat(t),method:"delete"})},addAttendance:function(t){return Object(n["a"])({url:"/staff/attendance",method:"post",data:t})},getAttendanceById:function(t){return Object(n["a"])({url:"/staff/attendance/".concat(t),method:"get"})},updateAttendance:function(t){return Object(n["a"])({url:"/staff/attendance",method:"put",data:t})},getAttendanceList:function(){return Object(n["a"])({url:"/staff/attendance/list",method:"get"})},updateAttendanceOk:function(t){return Object(n["a"])({url:"/staff/attendance/updateAttendanceOk/".concat(t),method:"put"})},updateAttendanceNo:function(t){return Object(n["a"])({url:"/staff/attendance/updateAttendanceNo/".concat(t),method:"put"})}}},"8c1c":function(t,e,a){"use strict";a.r(e);var n,c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"员工名称"},model:{value:t.attendanceQueryVo.clerkName,callback:function(e){t.$set(t.attendanceQueryVo,"clerkName",e)},expression:"attendanceQueryVo.clerkName"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"部门名称"},model:{value:t.attendanceQueryVo.departmentName,callback:function(e){t.$set(t.attendanceQueryVo,"departmentName",e)},expression:"attendanceQueryVo.departmentName"}})],1),a("el-form-item",[a("el-select",{attrs:{clearable:"",placeholder:"请选择考勤类型"},model:{value:t.attendanceQueryVo.status,callback:function(e){t.$set(t.attendanceQueryVo,"status",e)},expression:"attendanceQueryVo.status"}},t._l(t.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-button",{staticStyle:{"font-size":"16px"},attrs:{type:"primary"},on:{click:function(e){return t.getAttendanceListPage()}}},[t._v(" 查询")]),a("el-button",{staticStyle:{"font-size":"16px"},attrs:{type:"default"},on:{click:function(e){return t.resetData()}}},[t._v(" 清空")])],1),a("el-table",{attrs:{data:t.list,"element-loading-text":"数据加载中",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",width:"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s((t.page-1)*t.limit+e.$index+1))]}}])}),a("el-table-column",{attrs:{prop:"id",sortable:"",label:"编号",width:"200"}}),a("el-table-column",{attrs:{prop:"time",sortable:"",label:"日期",width:"200"}}),a("el-table-column",{attrs:{prop:"status",label:"类型"}}),a("el-table-column",{attrs:{prop:"clerkId",sortable:"",label:"员工姓名"}}),a("el-table-column",{attrs:{prop:"departmentId",sortable:"",label:"员工部门"}}),1==t.isAdmin?a("el-table-column",{attrs:{label:"操作",width:"280",fixed:"right",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticStyle:{"font-size":"16px"},attrs:{type:"primary"},on:{click:function(a){return t.updateAttendance(e.row.id,!0)}}},[t._v(" 通过")]),a("el-button",{staticStyle:{"font-size":"16px"},attrs:{type:"danger"},on:{click:function(a){return t.updateAttendance(e.row.id,!1)}}},[t._v(" 不通过")])]}}],null,!1,3511280837)}):t._e()],1),a("el-pagination",{staticStyle:{padding:"30px 0","text-align":"center"},attrs:{"current-page":t.page,"page-size":t.limit,total:t.total,layout:"total, prev, pager, next, jumper"},on:{"current-change":t.getAttendanceListPage}})],1)},l=[],o=a("ade3"),i=a("5530"),r=(a("caad"),a("2532"),a("2f62")),s=a("2fd4"),u={data:function(){return{options:[{value:"1",label:"事假"},{value:"2",label:"迟到"},{value:"3",label:"早退"},{value:"4",label:"病假"},{value:"5",label:"旷工"},{value:"6",label:"休补"}],list:null,page:1,limit:6,total:0,attendanceQueryVo:{audit:"0"},isAdmin:!1}},computed:Object(i["a"])({},Object(r["b"])(["roles"])),created:function(){this.roles.includes("管理员")&&(this.isAdmin=!0),this.getAttendanceListPage()},methods:(n={resetData:function(){this.attendanceQueryVo={},this.getAttendanceListPage()},getAttendanceListPage:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.page=e,s["a"].getAttendanceListPage(this.page,this.limit,this.attendanceQueryVo).then((function(e){t.list=e.data.attendanceList,t.total=e.data.total})).catch((function(t){console.log(t)}))}},Object(o["a"])(n,"resetData",(function(){this.getAttendanceListPage()})),Object(o["a"])(n,"updateAttendance",(function(t,e){var a=this;e?s["a"].updateAttendanceOk(t).then((function(t){a.$message({type:"success",message:"已通过!"}),a.getAttendanceListPage()})):s["a"].updateAttendanceNo(t).then((function(t){a.$message({type:"error",message:"未通过!"}),a.getAttendanceListPage()}))})),Object(o["a"])(n,"deleteAttendanceById",(function(t){var e=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){s["a"].deleteAttendanceById(t).then((function(t){e.$message({type:"success",message:"删除成功!"}),e.getAttendanceListPage()})).catch((function(t){e.$message({type:"warning",message:"删除失败!"})}))}))})),n)},d=u,p=a("2877"),f=Object(p["a"])(d,c,l,!1,null,null,null);e["default"]=f.exports}}]);