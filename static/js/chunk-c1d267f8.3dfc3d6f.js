(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c1d267f8"],{"1148a":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container"},[r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[r("el-form-item",[r("el-input",{attrs:{placeholder:"职工名称"},model:{value:t.clerkQueryVo.name,callback:function(e){t.$set(t.clerkQueryVo,"name",e)},expression:"clerkQueryVo.name"}})],1),r("el-form-item",[r("el-input",{attrs:{placeholder:"职工职位"},model:{value:t.clerkQueryVo.position,callback:function(e){t.$set(t.clerkQueryVo,"position",e)},expression:"clerkQueryVo.position"}})],1),r("el-form-item",[r("el-input",{attrs:{placeholder:"部门名称"},model:{value:t.clerkQueryVo.departmentName,callback:function(e){t.$set(t.clerkQueryVo,"departmentName",e)},expression:"clerkQueryVo.departmentName"}})],1),r("el-button",{staticStyle:{"font-size":"16px"},attrs:{type:"primary"},on:{click:function(e){return t.getClerkListPage()}}},[t._v(" 查询")])],1),r("el-button",{attrs:{type:"default"},on:{click:function(e){return e.preventDefault(),t.resetData(e)}}},[t._v(" 清空")]),r("el-table",{attrs:{data:t.list,"element-loading-text":"数据加载中",fit:"","highlight-current-row":""}},[r("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[r("el-form-item",{attrs:{label:"照片"}},[r("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.baseApi+e.row.photo,fit:"contain"}})],1),r("br"),r("el-form-item",{attrs:{label:"职工名称"}},[r("span",[t._v(t._s(e.row.name))])]),r("br"),r("el-form-item",{attrs:{label:"职工性别"}},[r("span",[t._v(t._s(1==e.row.sex?"男":"女"))])]),r("br"),r("el-form-item",{attrs:{label:"职工手机号码"}},[r("span",[t._v(t._s(e.row.phoneNumber))])]),r("br"),r("el-form-item",{attrs:{label:"职工身份证"}},[r("span",[t._v(t._s(e.row.idCard))])]),r("br"),r("el-form-item",{attrs:{label:"职工住址"}},[r("span",[t._v(t._s(e.row.address))])])],1)]}}])}),r("el-table-column",{attrs:{label:"序号",width:"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s((t.page-1)*t.limit+e.$index+1))]}}])}),r("el-table-column",{attrs:{prop:"id",sortable:"",label:"职工编号",width:"200"}}),r("el-table-column",{attrs:{prop:"name",sortable:"",label:"职工姓名",width:"100"}}),r("el-table-column",{attrs:{prop:"position",sortable:"",label:"职工职位"}}),r("el-table-column",{attrs:{prop:"departmentId",sortable:"",label:"职工部门",width:"100"}}),r("el-table-column",{attrs:{label:"操作",width:"350",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("router-link",{attrs:{to:"/permissions/updateClerk/"+e.row.id}},[r("el-button",{staticStyle:{"font-size":"16px"},attrs:{type:"primary"}},[t._v(" 权限修改")])],1),r("router-link",{attrs:{to:"/clerkThrough/showClerkThrough/"+e.row.id}},[r("el-button",{staticStyle:{"font-size":"16px"},attrs:{type:"info"}},[t._v(" 职工经历")])],1),r("el-button",{staticStyle:{"font-size":"16px"},attrs:{type:"warning"},on:{click:function(r){return t.resetPassword(e.row.id)}}},[t._v(" 重置密码")])]}}])})],1),r("el-pagination",{staticStyle:{padding:"30px 0","text-align":"center"},attrs:{"current-page":t.page,"page-size":t.limit,total:t.total,layout:"total, prev, pager, next, jumper"},on:{"current-change":t.getClerkListPage}})],1)},n=[],l=r("9ffe"),s={data:function(){return{list:null,page:1,limit:6,total:0,clerkQueryVo:{name:"",position:"",departmentName:""},baseApi:"https://api-administration.choringedu.cn"}},created:function(){this.getClerkListPage()},methods:{resetData:function(){this.clerkQueryVo={name:"",position:"",departmentName:""},this.getClerkListPage()},getClerkListPage:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.page=e,l["a"].getClerkListPage(this.page,this.limit,this.clerkQueryVo).then((function(e){t.list=e.data.clerkList,t.total=e.data.total})).catch((function(t){console.log(t)}))},deleteClerkById:function(t){var e=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){l["a"].deleteClerkById(t).then((function(t){e.$message({type:"success",message:"删除成功!"}),e.getClerkListPage()})).catch((function(t){e.$message({type:"warning",message:"删除失败!"})}))}))},resetPassword:function(t){var e=this;this.$confirm("此操作将重置该用户密码为随机8位字符, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){l["a"].resetPassword(t).then((function(t){e.$message({type:"success",message:"密码重置成功!新密码为: "+t.data.newPassword})})).catch((function(t){e.$message({type:"warning",message:"密码重置失败!"})}))}))}}},o=s,i=r("2877"),c=Object(i["a"])(o,a,n,!1,null,null,null);e["default"]=c.exports},"9ffe":function(t,e,r){"use strict";r("99af");var a=r("b775");e["a"]={getClerkListPage:function(t,e,r){return Object(a["a"])({url:"/staff/clerk/listPage/".concat(t,"/").concat(e),method:"post",data:r})},getClerkListPageLizhi:function(t,e,r){return Object(a["a"])({url:"/staff/clerk/listPageLiZhi/".concat(t,"/").concat(e),method:"post",data:r})},deleteClerkById:function(t){return Object(a["a"])({url:"/staff/clerk/".concat(t),method:"delete"})},addClerk:function(t){return Object(a["a"])({url:"/staff/clerk",method:"post",data:t})},getClerkById:function(t){return Object(a["a"])({url:"/staff/clerk/".concat(t),method:"get"})},updateClerk:function(t){return Object(a["a"])({url:"/staff/clerk",method:"put",data:t})},getClerkList:function(){return Object(a["a"])({url:"/staff/clerk/list",method:"get"})},getClerkAndUserRole:function(){return Object(a["a"])({url:"/staff/clerk/getClerkAndUserRole",method:"post"})},updateUser:function(t){return Object(a["a"])({url:"/staff/user",method:"put",data:t})},getPassword:function(t){return Object(a["a"])({url:"/staff/user/getPassword/"+t,method:"post"})},putPassword:function(t){return Object(a["a"])({url:"/staff/user/putPassword/"+t,method:"put"})},getClerkByDepartmentId:function(t){return Object(a["a"])({url:"/staff/clerk/getClerkByDepartmentId/"+t,method:"get"})},resetPassword:function(t){return Object(a["a"])({url:"/staff/user/resetPassword/"+t,method:"put"})}}}}]);