(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0bf2874f"],{5157:function(e,t,n){},a6b5:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[n("el-form-item",[n("el-input",{attrs:{placeholder:"用户名"},model:{value:e.loginQueryVo.username,callback:function(t){e.$set(e.loginQueryVo,"username",t)},expression:"loginQueryVo.username"}})],1),n("el-form-item",[n("el-input",{attrs:{placeholder:"IP地址"},model:{value:e.loginQueryVo.ip,callback:function(t){e.$set(e.loginQueryVo,"ip",t)},expression:"loginQueryVo.ip"}})],1),n("el-form-item",[n("el-select",{attrs:{placeholder:"登录状态"},model:{value:e.loginQueryVo.status,callback:function(t){e.$set(e.loginQueryVo,"status",t)},expression:"loginQueryVo.status"}},[n("el-option",{attrs:{label:"成功",value:"1"}}),n("el-option",{attrs:{label:"失败",value:"0"}})],1)],1),n("el-form-item",[n("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.loginQueryVo.loginTimeRange,callback:function(t){e.$set(e.loginQueryVo,"loginTimeRange",t)},expression:"loginQueryVo.loginTimeRange"}})],1),n("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"primary"},on:{click:function(t){return e.getLoginLogList()}}},[e._v(" 查询 ")]),n("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"default"},on:{click:function(t){return e.resetData()}}},[e._v(" 清空 ")])],1),n("el-table",{attrs:{data:e.list,"element-loading-text":"数据加载中",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{label:"序号",width:"70",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s((e.page-1)*e.limit+t.$index+1))]}}])}),n("el-table-column",{attrs:{prop:"username",label:"用户名",width:"150"}}),n("el-table-column",{attrs:{prop:"ip",label:"IP地址",width:"150"}}),n("el-table-column",{attrs:{prop:"location",label:"登录地点",width:"200"}}),n("el-table-column",{attrs:{prop:"loginTime",label:"登录时间",width:"200"}}),n("el-table-column",{attrs:{prop:"status",label:"登录状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1==t.row.status?"成功":"失败"))]}}])}),n("el-table-column",{attrs:{prop:"msg",label:"失败原因",width:"200"}}),n("el-table-column",{attrs:{label:"操作",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(n){return e.handleDelete(t.row.id)}}},[e._v(" 删除 ")])]}}])})],1),n("div",{staticClass:"pagination-container"},[n("el-pagination",{attrs:{"current-page":e.page,"page-size":e.limit,total:e.total,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},a=[],o=n("b775");function l(e){return Object(o["a"])({url:"/staff/loginLog/pageLoginLog/"+e.current+"/"+e.limit,method:"get",params:e.query})}function s(e){return Object(o["a"])({url:"/staff/loginLog/deleteLoginLog/"+e,method:"delete"})}var r={name:"LoginLogList",data:function(){return{list:[],total:0,page:1,limit:10,loginQueryVo:{username:"",ip:"",status:"",loginTimeRange:[]}}},created:function(){this.getLoginLogList()},methods:{getLoginLogList:function(){var e=this,t={current:this.page,limit:this.limit,query:{username:this.loginQueryVo.username,ip:this.loginQueryVo.ip,status:this.loginQueryVo.status,startTime:this.loginQueryVo.loginTimeRange[0]||"",endTime:this.loginQueryVo.loginTimeRange[1]||""}};l(t).then((function(t){e.list=t.data.rows,e.total=t.data.total}))},resetData:function(){this.loginQueryVo={username:"",ip:"",status:"",loginTimeRange:[]},this.page=1,this.getLoginLogList()},handleSizeChange:function(e){this.limit=e,this.page=1,this.getLoginLogList()},handleCurrentChange:function(e){this.page=e,this.getLoginLogList()},handleDelete:function(e){var t=this;this.$confirm("确定要删除这条记录吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){s(e).then((function(e){t.$message({message:"删除成功",type:"success"}),t.getLoginLogList()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}}},u=r,g=(n("b0ce"),n("2877")),c=Object(g["a"])(u,i,a,!1,null,"5e067c4c",null);t["default"]=c.exports},b0ce:function(e,t,n){"use strict";n("5157")}}]);