(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09906401"],{"0e8f":function(t,e,a){"use strict";a("99af");var n=a("b775");e["a"]={getDepartmentListPage:function(t,e){return Object(n["a"])({url:"/staff/department/listPage/".concat(t,"/").concat(e),method:"get"})},deleteDepartmentById:function(t){return Object(n["a"])({url:"/staff/department/".concat(t),method:"delete"})},addDepartment:function(t){return Object(n["a"])({url:"/staff/department",method:"post",data:t})},getDepartmentById:function(t){return Object(n["a"])({url:"/staff/department/".concat(t),method:"get"})},updateDepartment:function(t){return Object(n["a"])({url:"/staff/department",method:"put",data:t})},getDepartmentList:function(){return Object(n["a"])({url:"/staff/department/list",method:"get"})}}},"2fd4":function(t,e,a){"use strict";a("99af");var n=a("b775");e["a"]={getAttendanceListPage:function(t,e,a){return Object(n["a"])({url:"/staff/attendance/listPage/".concat(t,"/").concat(e),method:"post",data:a})},getAttendance:function(t,e,a){return Object(n["a"])({url:"/staff/attendance/getAttendance/".concat(t,"/").concat(e),method:"post",data:a})},deleteAttendanceById:function(t){return Object(n["a"])({url:"/staff/attendance/".concat(t),method:"delete"})},addAttendance:function(t){return Object(n["a"])({url:"/staff/attendance",method:"post",data:t})},getAttendanceById:function(t){return Object(n["a"])({url:"/staff/attendance/".concat(t),method:"get"})},updateAttendance:function(t){return Object(n["a"])({url:"/staff/attendance",method:"put",data:t})},getAttendanceList:function(){return Object(n["a"])({url:"/staff/attendance/list",method:"get"})},updateAttendanceOk:function(t){return Object(n["a"])({url:"/staff/attendance/updateAttendanceOk/".concat(t),method:"put"})},updateAttendanceNo:function(t){return Object(n["a"])({url:"/staff/attendance/updateAttendanceNo/".concat(t),method:"put"})}}},"9ffe":function(t,e,a){"use strict";a("99af");var n=a("b775");e["a"]={getClerkListPage:function(t,e,a){return Object(n["a"])({url:"/staff/clerk/listPage/".concat(t,"/").concat(e),method:"post",data:a})},getClerkListPageLizhi:function(t,e,a){return Object(n["a"])({url:"/staff/clerk/listPageLiZhi/".concat(t,"/").concat(e),method:"post",data:a})},deleteClerkById:function(t){return Object(n["a"])({url:"/staff/clerk/".concat(t),method:"delete"})},addClerk:function(t){return Object(n["a"])({url:"/staff/clerk",method:"post",data:t})},getClerkById:function(t){return Object(n["a"])({url:"/staff/clerk/".concat(t),method:"get"})},updateClerk:function(t){return Object(n["a"])({url:"/staff/clerk",method:"put",data:t})},getClerkList:function(){return Object(n["a"])({url:"/staff/clerk/list",method:"get"})},getClerkAndUserRole:function(){return Object(n["a"])({url:"/staff/clerk/getClerkAndUserRole",method:"post"})},updateUser:function(t){return Object(n["a"])({url:"/staff/user",method:"put",data:t})},getPassword:function(t){return Object(n["a"])({url:"/staff/user/getPassword/"+t,method:"post"})},putPassword:function(t){return Object(n["a"])({url:"/staff/user/putPassword/"+t,method:"put"})},getClerkByDepartmentId:function(t){return Object(n["a"])({url:"/staff/clerk/getClerkByDepartmentId/"+t,method:"get"})},resetPassword:function(t){return Object(n["a"])({url:"/staff/user/resetPassword/"+t,method:"put"})}}},b8e2:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"attendance",attrs:{"label-width":"120px",rules:t.rule,model:t.attendance}},[a("el-form-item",{attrs:{label:"编号"}},[a("el-input",{attrs:{span:6,disabled:!0},model:{value:t.attendance.id,callback:function(e){t.$set(t.attendance,"id",e)},expression:"attendance.id"}})],1),a("el-form-item",{attrs:{label:"选择部门",prop:"departmentId"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择部门"},on:{change:t.selectClerk},model:{value:t.attendance.departmentId,callback:function(e){t.$set(t.attendance,"departmentId",e)},expression:"attendance.departmentId"}},t._l(t.departmentList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("el-form-item",[a("el-select",{attrs:{clearable:"",placeholder:"请选择员工"},on:{change:function(e){return t.$forceUpdate()}},model:{value:t.attendance.clerkId,callback:function(e){t.$set(t.attendance,"clerkId",e)},expression:"attendance.clerkId"}},t._l(t.clerkList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"请选择时间",prop:"time"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"请选择时间","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.attendance.time,callback:function(e){t.$set(t.attendance,"time",e)},expression:"attendance.time"}})],1),a("el-form-item",{attrs:{label:"考勤类型",prop:"status"}},[a("el-radio",{attrs:{label:"1"},model:{value:t.attendance.status,callback:function(e){t.$set(t.attendance,"status",e)},expression:"attendance.status"}},[t._v("事假")]),a("el-radio",{attrs:{label:"2"},model:{value:t.attendance.status,callback:function(e){t.$set(t.attendance,"status",e)},expression:"attendance.status"}},[t._v("迟到")]),a("el-radio",{attrs:{label:"3"},model:{value:t.attendance.status,callback:function(e){t.$set(t.attendance,"status",e)},expression:"attendance.status"}},[t._v("早退")]),a("el-radio",{attrs:{label:"4"},model:{value:t.attendance.status,callback:function(e){t.$set(t.attendance,"status",e)},expression:"attendance.status"}},[t._v("病假")]),a("el-radio",{attrs:{label:"5"},model:{value:t.attendance.status,callback:function(e){t.$set(t.attendance,"status",e)},expression:"attendance.status"}},[t._v("旷工")]),a("el-radio",{attrs:{label:"6"},model:{value:t.attendance.status,callback:function(e){t.$set(t.attendance,"status",e)},expression:"attendance.status"}},[t._v("休补")])],1),a("el-form-item",[a("el-button",{staticStyle:{"font-size":"16px"},attrs:{disabled:t.saveBtnDisabled,type:"primary"},on:{click:t.saveOrUpdate}},[t._v(" 保存")])],1)],1)],1)},r=[],c=a("2fd4"),s=a("0e8f"),d=a("9ffe"),u={data:function(){return{attendance:{clerkId:"",departmentId:"",time:"",status:""},saveBtnDisabled:!1,departmentList:[],imagecropperKey:0,clerkList:[],rule:{time:[{required:!0,message:"请选择时间",trigger:"change"}],clerkId:[{required:!0,message:"请选择员工",trigger:"change"}],departmentId:[{required:!0,message:"请选择部门",trigger:"change"}],status:[{required:!0,message:"请选择考勤类型",trigger:"change"}]}}},created:function(){this.init()},watch:{$route:function(t,e){this.init()}},methods:{initClerk:function(){var t=this;d["a"].getClerkList().then((function(e){t.clerkList=e.data.clerkList}))},selectClerk:function(){var t=this;this.attendance.clerkId="",d["a"].getClerkByDepartmentId(this.attendance.departmentId).then((function(e){t.clerkList=e.data.clerkList}))},init:function(){if(this.$route.params&&this.$route.params.id){var t=this.$route.params.id;this.getAttendanceById(t),this.initClerk()}else this.attendance={};this.initDepartment()},initDepartment:function(){var t=this;s["a"].getDepartmentList().then((function(e){t.departmentList=e.data.departmentList}))},updateAttendance:function(){var t=this;c["a"].updateAttendance(this.attendance).then((function(e){t.$message({type:"success",message:"修改成功!"}),t.$router.push({path:"/attendance"})}))},getAttendanceById:function(t){var e=this;c["a"].getAttendanceById(t).then((function(t){e.attendance=t.data.attendance,console.log(e.attendance)})).catch((function(t){}))},saveOrUpdate:function(){var t=this;this.$refs["attendance"].validate((function(e){e&&(t.$route.params&&t.$route.params.id?t.updateAttendance():t.saveAttendance())}))},saveAttendance:function(){var t=this;this.attendance.time&&""!=this.attendance.time?c["a"].addAttendance(this.attendance).then((function(e){t.$message({type:"success",message:"添加成功"}),t.$router.push({path:"/attendance/listAttendanceReviewing"})})).catch((function(t){})):this.$message({type:"error",message:"日期不能为空"})}}},i=u,l=a("2877"),o=Object(l["a"])(i,n,r,!1,null,null,null);e["default"]=o.exports}}]);