(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64632a50"],{4858:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-form",{attrs:{"label-width":"120px"}},[n("el-form-item",{attrs:{label:"公告标题"}},[n("el-input",{attrs:{span:6},model:{value:e.announcement.title,callback:function(t){e.$set(e.announcement,"title",t)},expression:"announcement.title"}})],1),n("el-form-item",{attrs:{label:"发布时间"}},[n("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.announcement.time,callback:function(t){e.$set(e.announcement,"time",t)},expression:"announcement.time"}})],1),n("el-form-item",{attrs:{label:"公告具体内容"}},[n("tinymce-editor",{ref:"editor",attrs:{id:"editor",height:e.realHeight},model:{value:e.announcement.content,callback:function(t){e.$set(e.announcement,"content",t)},expression:"announcement.content"}})],1),n("el-form-item",[n("el-button",{staticStyle:{"font-size":"18px"},attrs:{disabled:e.saveBtnDisabled,type:"primary"},on:{click:e.saveOrUpdate}},[e._v(" 保存")])],1)],1)],1)},i=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tinymce-editor"},[n("Editor",{attrs:{id:e.editorId,init:e.editorInit},model:{value:e.editorValue,callback:function(t){e.editorValue=t},expression:"editorValue"}})],1)},c=[],u=(n("a9e3"),n("e562")),s=n.n(u),r=n("ca72"),l=(n("fc39"),n("0d68"),n("fd8a"),n("0342"),n("4237"),n("64d8"),n("07d1"),n("84ec"),n("9434"),n("3aea"),n("0335"),n("3154"),n("bc54"),n("0a9d"),n("f557"),n("34de"),{name:"TinymceEditor",components:{Editor:r["a"]},props:{height:{type:Number,default:500},id:{type:String,default:"tinymceEditor"},value:{type:String,default:""},plugins:{type:[String,Array],default:"link lists image code table wordcount media fullscreen preview paste contextmenu textcolor"},toolbar:{type:[String,Array],default:"fontselect | bold italic underline strikethrough | link unlink image | undo redo | fontsizeselect | forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist | outdent indent blockquote | code | removeformat"}},data:function(){return{editorInit:{language_url:"".concat(window.baseUrl,"/tinymce/langs/zh_CN.js"),language:"zh_CN",skin_url:"".concat(window.baseUrl,"/tinymce/skins/ui/oxide"),content_css:"".concat(window.baseUrl,"/tinymce/skins/content/default/content.css"),height:this.height,content_style:"* { padding:0; margin:0; } img {max-width:100% !important }",plugin_preview_width:375,plugin_preview_height:668,lineheight_val:"1 1.1 1.2 1.3 1.35 1.4 1.5 1.55 1.6 1.75 1.8 1.9 1.95 2 2.1 2.2 2.3 2.4 2.5 2.6 2.7 2.8 3 3.1 3.2 3.3 3.4 4 5",fontsize_formats:"8pt 10pt 11pt 12pt 13pt 14pt 15pt 16pt 17pt 18pt 24pt 36pt",font_formats:"微软雅黑='微软雅黑';宋体='宋体';黑体='黑体';仿宋='仿宋';楷体='楷体';隶书='隶书';幼圆='幼圆';Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings",plugins:this.plugins,powerpaste_word_import:"merge",toolbar:this.toolbar,paste_data_images:!0,statusbar:!0,menubar:!0,branding:!1},editorId:this.id,newValue:""}},watch:{newValue:function(e){this.$emit("input",e)}},mounted:function(){s.a.init({})},computed:{editorValue:{get:function(){return this.value},set:function(e){this.newValue=e}}},methods:{clear:function(){this.editorValue=""}}}),m=l,d=n("2877"),f=Object(d["a"])(m,o,c,!1,null,null,null),p=f.exports,h=n("4e49"),g=(n("b775"),{components:{TinymceEditor:p},data:function(){return{announcement:{},saveBtnDisabled:!1}},computed:{realHeight:function(){return(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)-200}},created:function(){this.init()},watch:{$route:function(e,t){this.init()}},methods:{init:function(){if(this.$route.params&&this.$route.params.id){var e=this.$route.params.id;this.getAnnouncementById(e)}else this.announcement={}},updateAnnouncement:function(){var e=this;h["a"].updateAnnouncement(this.announcement).then((function(t){e.$message({type:"success",message:"修改成功!"}),e.$router.push({path:"/announcement/listAnnouncement"})}))},getAnnouncementById:function(e){var t=this;h["a"].getAnnouncementById(e).then((function(e){t.announcement=e.data.announcement})).catch((function(e){}))},saveOrUpdate:function(){this.$route.params&&this.$route.params.id?this.updateAnnouncement():this.saveAnnouncement()},saveAnnouncement:function(){var e=this;null==this.announcement.title?this.$message({type:"warning",message:"请添加标题"}):h["a"].addAnnouncement(this.announcement).then((function(t){e.$message({type:"success",message:"添加成功"}),e.$router.push({path:"/announcement/listAnnouncement"})})).catch((function(e){}))}}}),b=g,v=Object(d["a"])(b,a,i,!1,null,null,null);t["default"]=v.exports},"4e49":function(e,t,n){"use strict";n("99af");var a=n("b775");t["a"]={getAnnouncementListPage:function(e,t,n){return Object(a["a"])({url:"/staff/announcement/listPage/".concat(e,"/").concat(t),method:"post",data:n})},getAnnouncementListPageClerk:function(e,t,n){return Object(a["a"])({url:"/staff/announcement/listPageClerk/".concat(e,"/").concat(t),method:"post",data:n})},deleteAnnouncementById:function(e){return Object(a["a"])({url:"/staff/announcement/".concat(e),method:"delete"})},addAnnouncement:function(e){return Object(a["a"])({url:"/staff/announcement",method:"post",data:e})},getAnnouncementById:function(e){return Object(a["a"])({url:"/staff/announcement/".concat(e),method:"get"})},updateAnnouncement:function(e){return Object(a["a"])({url:"/staff/announcement",method:"put",data:e})},getAnnouncementList:function(){return Object(a["a"])({url:"/staff/announcement/list",method:"get"})},numInfo:function(){return Object(a["a"])({url:"/staff/announcement/numInfo",method:"get"})}}}}]);