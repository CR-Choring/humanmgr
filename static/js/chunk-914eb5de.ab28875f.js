(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-914eb5de"],{"0487":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"department",attrs:{model:e.department,rules:e.rule,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"部门id"}},[a("el-input",{attrs:{span:6,disabled:!0},model:{value:e.department.id,callback:function(t){e.$set(e.department,"id",t)},expression:"department.id"}})],1),a("el-form-item",{attrs:{prop:"provinceCode",label:"省份"}},[a("el-select",{attrs:{placeholder:"请选择省份"},model:{value:e.department.provinceCode,callback:function(t){e.$set(e.department,"provinceCode",t)},expression:"department.provinceCode"}},[a("el-option",{attrs:{label:"北京市",value:"11"}}),a("el-option",{attrs:{label:"山西省",value:"14"}}),a("el-option",{attrs:{label:"江苏省",value:"32"}}),a("el-option",{attrs:{label:"浙江省",value:"33"}}),a("el-option",{attrs:{label:"福建省",value:"35"}}),a("el-option",{attrs:{label:"江西省",value:"36"}}),a("el-option",{attrs:{label:"广东省",value:"44"}})],1)],1),a("el-form-item",{attrs:{prop:"categoryCode",label:"部门类别"}},[a("el-select",{attrs:{placeholder:"请选择部门类别"},model:{value:e.department.categoryCode,callback:function(t){e.$set(e.department,"categoryCode",t)},expression:"department.categoryCode"}},[a("el-option",{attrs:{label:"董事组",value:"00"}}),a("el-option",{attrs:{label:"总编室",value:"01"}}),a("el-option",{attrs:{label:"教务处",value:"02"}}),a("el-option",{attrs:{label:"行政部",value:"03"}}),a("el-option",{attrs:{label:"财务部",value:"04"}}),a("el-option",{attrs:{label:"学院处",value:"05"}}),a("el-option",{attrs:{label:"排版设计部",value:"06"}}),a("el-option",{attrs:{label:"考试开发中心组",value:"07"}}),a("el-option",{attrs:{label:"教育研究院",value:"08"}}),a("el-option",{attrs:{label:"团务部",value:"09"}}),a("el-option",{attrs:{label:"人事部",value:"10"}}),a("el-option",{attrs:{label:"法务部",value:"11"}}),a("el-option",{attrs:{label:"信息技术部",value:"12"}}),a("el-option",{attrs:{label:"市场运营部",value:"13"}}),a("el-option",{attrs:{label:"教学研究部",value:"14"}}),a("el-option",{attrs:{label:"编辑部",value:"15"}}),a("el-option",{attrs:{label:"机房",value:"20"}}),a("el-option",{attrs:{label:"录播室",value:"21"}})],1)],1),a("el-form-item",{attrs:{prop:"name",label:"部门名称"}},[a("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:e.department.name,callback:function(t){e.$set(e.department,"name",t)},expression:"department.name"}})],1),a("el-form-item",[a("el-button",{staticClass:"no-icon-button",staticStyle:{"font-size":"16px"},attrs:{disabled:e.saveBtnDisabled,type:"primary"},on:{click:function(t){return e.saveOrUpdate("department")}}},[e._v(" 保存")])],1)],1)],1)},r=[],l=a("0e8f"),o={data:function(){return{department:{},saveBtnDisabled:!1,BASE_API:Object({NODE_ENV:"production",VUE_APP_BASE_API:"https://api-administration.choringedu.cn",BASE_URL:"/"}).BASE_API,rule:{provinceCode:[{required:!0,message:"请选择省份",trigger:"change"}],categoryCode:[{required:!0,message:"请选择部门类别",trigger:"change"}],name:[{required:!0,message:"请填写部门名称",trigger:"change"}]}}},created:function(){this.init()},watch:{$route:function(e,t){this.init()},"department.provinceCode":function(){this.generateDepartmentId()},"department.categoryCode":function(){this.generateDepartmentId()}},methods:{init:function(){if(this.$route.params&&this.$route.params.id){var e=this.$route.params.id;this.getDepartmentById(e)}else this.department={}},generateDepartmentId:function(){this.department.provinceCode&&this.department.categoryCode?this.department.id=this.department.provinceCode+this.department.categoryCode:this.department.id=""},updateDepartment:function(){var e=this;l["a"].updateDepartment(this.department).then((function(t){e.$message({type:"success",message:"修改成功!"}),e.$router.push({path:"/department/listDepartment"})}))},getDepartmentById:function(e){var t=this;l["a"].getDepartmentById(e).then((function(e){t.department=e.data.department})).catch((function(e){}))},saveOrUpdate:function(e){var t=this;this.$refs[e].validate((function(e){e&&(t.$route.params&&t.$route.params.id?t.updateDepartment():t.saveDepartment())}))},saveDepartment:function(){var e=this;l["a"].addDepartment(this.department).then((function(t){e.$message({type:"success",message:"添加成功"}),e.$router.push({path:"/department/listDepartment"})})).catch((function(t){e.$message({type:"warning",message:"添加失败"})}))}}},i=o,s=(a("fff5"),a("2877")),p=Object(s["a"])(i,n,r,!1,null,"7034421c",null);t["default"]=p.exports},"0e8f":function(e,t,a){"use strict";a("99af");var n=a("b775");t["a"]={getDepartmentListPage:function(e,t){return Object(n["a"])({url:"/staff/department/listPage/".concat(e,"/").concat(t),method:"get"})},deleteDepartmentById:function(e){return Object(n["a"])({url:"/staff/department/".concat(e),method:"delete"})},addDepartment:function(e){return Object(n["a"])({url:"/staff/department",method:"post",data:e})},getDepartmentById:function(e){return Object(n["a"])({url:"/staff/department/".concat(e),method:"get"})},updateDepartment:function(e){return Object(n["a"])({url:"/staff/department",method:"put",data:e})},getDepartmentList:function(){return Object(n["a"])({url:"/staff/department/list",method:"get"})}}},"986a":function(e,t,a){},fff5:function(e,t,a){"use strict";a("986a")}}]);