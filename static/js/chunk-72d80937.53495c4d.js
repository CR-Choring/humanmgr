(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72d80937"],{"0e8f":function(e,t,s){"use strict";s("99af");var r=s("b775");t["a"]={getDepartmentListPage:function(e,t){return Object(r["a"])({url:"/staff/department/listPage/".concat(e,"/").concat(t),method:"get"})},deleteDepartmentById:function(e){return Object(r["a"])({url:"/staff/department/".concat(e),method:"delete"})},addDepartment:function(e){return Object(r["a"])({url:"/staff/department",method:"post",data:e})},getDepartmentById:function(e){return Object(r["a"])({url:"/staff/department/".concat(e),method:"get"})},updateDepartment:function(e){return Object(r["a"])({url:"/staff/department",method:"put",data:e})},getDepartmentList:function(){return Object(r["a"])({url:"/staff/department/list",method:"get"})}}},"671b":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[s("el-form",{ref:"rewardsPunishments",attrs:{model:e.rewardsPunishments,rules:e.rule,"label-width":"120px"}},[s("el-form-item",{attrs:{label:"编号"}},[s("el-input",{attrs:{span:6,disabled:!0},model:{value:e.rewardsPunishments.id,callback:function(t){e.$set(e.rewardsPunishments,"id",t)},expression:"rewardsPunishments.id"}})],1),s("el-form-item",{attrs:{prop:"time",label:"奖惩日期"}},[s("el-date-picker",{attrs:{type:"datetime",placeholder:"请选择时间","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.rewardsPunishments.time,callback:function(t){e.$set(e.rewardsPunishments,"time",t)},expression:"rewardsPunishments.time"}})],1),s("el-form-item",{attrs:{label:"选择职工",prop:"clerkId"}},[s("el-select",{attrs:{clearable:"",placeholder:"请选择部门"},on:{change:e.selectClerk},model:{value:e.rewardsPunishments.departmentId,callback:function(t){e.$set(e.rewardsPunishments,"departmentId",t)},expression:"rewardsPunishments.departmentId"}},e._l(e.departmentList,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),s("el-select",{attrs:{clearable:"",placeholder:"请选择职工"},model:{value:e.rewardsPunishments.clerkId,callback:function(t){e.$set(e.rewardsPunishments,"clerkId",t)},expression:"rewardsPunishments.clerkId"}},e._l(e.clerkList,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),s("el-form-item",{attrs:{prop:"type",label:"奖惩类型"}},[s("el-radio",{attrs:{label:"0"},model:{value:e.rewardsPunishments.type,callback:function(t){e.$set(e.rewardsPunishments,"type",t)},expression:"rewardsPunishments.type"}},[e._v("奖励")]),s("el-radio",{attrs:{label:"1"},model:{value:e.rewardsPunishments.type,callback:function(t){e.$set(e.rewardsPunishments,"type",t)},expression:"rewardsPunishments.type"}},[e._v("惩罚")])],1),s("el-form-item",{attrs:{prop:"reason",label:"奖惩原因"}},[s("el-input",{model:{value:e.rewardsPunishments.reason,callback:function(t){e.$set(e.rewardsPunishments,"reason",t)},expression:"rewardsPunishments.reason"}})],1),s("el-form-item",{attrs:{prop:"amount",label:"奖惩金额"}},[s("el-input",{model:{value:e.rewardsPunishments.amount,callback:function(t){e.$set(e.rewardsPunishments,"amount",t)},expression:"rewardsPunishments.amount"}})],1),s("el-form-item",{attrs:{label:"备注"}},[s("el-input",{model:{value:e.rewardsPunishments.note,callback:function(t){e.$set(e.rewardsPunishments,"note",t)},expression:"rewardsPunishments.note"}})],1),s("el-form-item",[s("el-button",{staticStyle:{"font-size":"16px"},attrs:{disabled:e.saveBtnDisabled,type:"primary"},on:{click:function(t){return e.saveOrUpdate("rewardsPunishments")}}},[e._v(" 保存")])],1)],1)],1)},n=[],a=s("6b7b"),i=s("0e8f"),u=s("9ffe"),d={data:function(){return{rewardsPunishments:{clerkId:"",departmentId:"",time:""},saveBtnDisabled:!1,departmentList:[],imagecropperKey:0,clerkList:[],rule:{type:[{required:!0,message:"请选择类型",trigger:"change"}],time:[{required:!0,message:"请选择时间",trigger:"change"}],departmentId:[{required:!0,message:"请选择部门",trigger:"change"}],amount:[{required:!0,message:"请填写金额",trigger:"change"}],clerkId:[{required:!0,message:"请选择职工",trigger:"change"}],reason:[{required:!0,message:"请填写原因",trigger:"change"}]}}},created:function(){this.init()},watch:{$route:function(e,t){this.init()}},methods:{resetForm:function(e){this.$refs[e].resetFields()},initClerk:function(){var e=this;u["a"].getClerkList().then((function(t){e.clerkList=t.data.clerkList}))},selectClerk:function(){var e=this;u["a"].getClerkByDepartmentId(this.rewardsPunishments.departmentId).then((function(t){e.clerkList=t.data.clerkList}))},init:function(){if(this.$route.params&&this.$route.params.id){var e=this.$route.params.id;this.getRewardsPunishmentsById(e),this.initClerk()}else this.rewardsPunishments={};this.initDepartment()},initDepartment:function(){var e=this;i["a"].getDepartmentList().then((function(t){e.departmentList=t.data.departmentList}))},updateRewardsPunishments:function(){var e=this;a["a"].updateRewardsPunishments(this.rewardsPunishments).then((function(t){e.$message({type:"success",message:"修改成功!"}),e.$router.push({path:"/rewardsPunishments/listRewardsPunishments"})}))},getRewardsPunishmentsById:function(e){var t=this;a["a"].getRewardsPunishmentsById(e).then((function(e){t.rewardsPunishments=e.data.rewardsPunishments})).catch((function(e){}))},saveOrUpdate:function(e){var t=this;this.$refs[e].validate((function(e){e&&(t.$route.params&&t.$route.params.id?t.updateRewardsPunishments():t.saveRewardsPunishments())}))},saveRewardsPunishments:function(){var e=this;a["a"].addRewardsPunishments(this.rewardsPunishments).then((function(t){console.log(t.data),e.$message({type:"success",message:"添加成功"}),e.$router.push({path:"/rewardsPunishments/listRewardsPunishments"})})).catch((function(e){}))}}},l=d,c=s("2877"),o=Object(c["a"])(l,r,n,!1,null,null,null);t["default"]=o.exports},"6b7b":function(e,t,s){"use strict";s("99af");var r=s("b775");t["a"]={getRewardsPunishmentsListPage:function(e,t,s){return Object(r["a"])({url:"/staff/rewards_punishments/listPage/".concat(e,"/").concat(t),method:"post",data:s})},getRewardsPunishments:function(e,t,s){return Object(r["a"])({url:"/staff/rewards_punishments/getRewardsPunishments/".concat(e,"/").concat(t),method:"post",data:s})},deleteRewardsPunishmentsById:function(e){return Object(r["a"])({url:"/staff/rewards_punishments/".concat(e),method:"delete"})},addRewardsPunishments:function(e){return Object(r["a"])({url:"/staff/rewards_punishments",method:"post",data:e})},getRewardsPunishmentsById:function(e){return Object(r["a"])({url:"/staff/rewards_punishments/".concat(e),method:"get"})},updateRewardsPunishments:function(e){return Object(r["a"])({url:"/staff/rewards_punishments",method:"put",data:e})},getRewardsPunishmentsList:function(){return Object(r["a"])({url:"/staff/rewards_punishments/list",method:"get"})}}},"9ffe":function(e,t,s){"use strict";s("99af");var r=s("b775");t["a"]={getClerkListPage:function(e,t,s){return Object(r["a"])({url:"/staff/clerk/listPage/".concat(e,"/").concat(t),method:"post",data:s})},getClerkListPageLizhi:function(e,t,s){return Object(r["a"])({url:"/staff/clerk/listPageLiZhi/".concat(e,"/").concat(t),method:"post",data:s})},deleteClerkById:function(e){return Object(r["a"])({url:"/staff/clerk/".concat(e),method:"delete"})},addClerk:function(e){return Object(r["a"])({url:"/staff/clerk",method:"post",data:e})},getClerkById:function(e){return Object(r["a"])({url:"/staff/clerk/".concat(e),method:"get"})},updateClerk:function(e){return Object(r["a"])({url:"/staff/clerk",method:"put",data:e})},getClerkList:function(){return Object(r["a"])({url:"/staff/clerk/list",method:"get"})},getClerkAndUserRole:function(){return Object(r["a"])({url:"/staff/clerk/getClerkAndUserRole",method:"post"})},updateUser:function(e){return Object(r["a"])({url:"/staff/user",method:"put",data:e})},getPassword:function(e){return Object(r["a"])({url:"/staff/user/getPassword/"+e,method:"post"})},putPassword:function(e){return Object(r["a"])({url:"/staff/user/putPassword/"+e,method:"put"})},getClerkByDepartmentId:function(e){return Object(r["a"])({url:"/staff/clerk/getClerkByDepartmentId/"+e,method:"get"})},resetPassword:function(e){return Object(r["a"])({url:"/staff/user/resetPassword/"+e,method:"put"})}}}}]);