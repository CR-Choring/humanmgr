(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-721f21b8"],{1861:function(e,t,a){"use strict";a("ee2f")},"41eff":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"职工名称"},model:{value:e.clerkQueryVo.name,callback:function(t){e.$set(e.clerkQueryVo,"name",t)},expression:"clerkQueryVo.name"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"职工职位"},model:{value:e.clerkQueryVo.position,callback:function(t){e.$set(e.clerkQueryVo,"position",t)},expression:"clerkQueryVo.position"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"部门名称"},model:{value:e.clerkQueryVo.departmentName,callback:function(t){e.$set(e.clerkQueryVo,"departmentName",t)},expression:"clerkQueryVo.departmentName"}})],1),a("el-button",{staticStyle:{"font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.getClerkListPage()}}},[e._v(" 查询")])],1),a("el-button",{attrs:{type:"default"},on:{click:function(t){return t.preventDefault(),e.resetData(t)}}},[e._v(" 清空")]),a("el-table",{attrs:{data:e.list,"element-loading-text":"数据加载中",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"照片"}},[a("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.baseApi+t.row.photo,fit:"contain"}})],1),a("el-form-item",{attrs:{label:"职工名称"}},[a("span",[e._v(e._s(t.row.name))])]),a("br"),a("el-form-item",{attrs:{label:"职工性别"}},[a("span",[e._v(e._s(1==t.row.sex?"男":"女"))])]),a("br"),a("el-form-item",{attrs:{label:"职工手机号码"}},[a("span",[e._v(e._s(t.row.phoneNumber))])]),a("br"),a("el-form-item",{attrs:{label:"职工身份证"}},[a("span",[e._v(e._s(t.row.idCard))])]),a("br"),a("el-form-item",{attrs:{label:"职工住址"}},[a("span",[e._v(e._s(t.row.address))])])],1)]}}])}),a("el-table-column",{attrs:{label:"序号","min-width":"60",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s((e.page-1)*e.limit+t.$index+1))]}}])}),a("el-table-column",{attrs:{prop:"id",sortable:"",label:"职工编号","min-width":"140"}}),a("el-table-column",{attrs:{prop:"name",sortable:"",label:"职工姓名","min-width":"140"}}),a("el-table-column",{attrs:{prop:"position",sortable:"",label:"职工职位","min-width":"140"}}),a("el-table-column",{attrs:{prop:"departmentId",sortable:"",label:"职工部门","min-width":"160"}}),a("el-table-column",{attrs:{label:"操作","min-width":"140",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:1==t.row.loginEnabled?"danger":"success",size:"small"},on:{click:function(a){return e.toggleLogin(t.row)}}},[e._v(" "+e._s(1==t.row.loginEnabled?"禁止登录":"允许登录")+" ")])]}}])})],1),a("el-pagination",{staticStyle:{padding:"24px 0","text-align":"center"},attrs:{"current-page":e.page,"page-size":e.limit,total:e.total,layout:"total, prev, pager, next, jumper"},on:{"current-change":e.getClerkListPage}})],1)},n=[],l=a("9ffe"),o={name:"LoginPermission",data:function(){return{list:null,page:1,limit:6,total:0,clerkQueryVo:{name:"",position:"",departmentName:""},baseApi:"https://api-administration.choringedu.cn"}},created:function(){this.getClerkListPage()},methods:{resetData:function(){this.clerkQueryVo={name:"",position:"",departmentName:""},this.getClerkListPage()},getClerkListPage:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.page=t,l["a"].getClerkListPage(this.page,this.limit,this.clerkQueryVo).then((function(t){e.list=t.data.clerkList,e.total=t.data.total})).catch((function(e){console.log(e)}))},toggleLogin:function(e){var t=this,a=1===e.loginEnabled||"1"===e.loginEnabled?0:1,r={id:e.userId||e.id,loginEnabled:a};l["a"].updateUser(r).then((function(){e.loginEnabled=a,t.$message({type:"success",message:"设置已保存"})})).catch((function(){t.$message({type:"error",message:"设置保存失败"})}))}}},s=o,i=(a("1861"),a("2877")),c=Object(i["a"])(s,r,n,!1,null,"dfd3f1c0",null);t["default"]=c.exports},"9ffe":function(e,t,a){"use strict";a("99af");var r=a("b775");t["a"]={getClerkListPage:function(e,t,a){return Object(r["a"])({url:"/staff/clerk/listPage/".concat(e,"/").concat(t),method:"post",data:a})},getClerkListPageLizhi:function(e,t,a){return Object(r["a"])({url:"/staff/clerk/listPageLiZhi/".concat(e,"/").concat(t),method:"post",data:a})},deleteClerkById:function(e){return Object(r["a"])({url:"/staff/clerk/".concat(e),method:"delete"})},addClerk:function(e){return Object(r["a"])({url:"/staff/clerk",method:"post",data:e})},getClerkById:function(e){return Object(r["a"])({url:"/staff/clerk/".concat(e),method:"get"})},updateClerk:function(e){return Object(r["a"])({url:"/staff/clerk",method:"put",data:e})},getClerkList:function(){return Object(r["a"])({url:"/staff/clerk/list",method:"get"})},getClerkAndUserRole:function(){return Object(r["a"])({url:"/staff/clerk/getClerkAndUserRole",method:"post"})},updateUser:function(e){return Object(r["a"])({url:"/staff/user",method:"put",data:e})},getPassword:function(e){return Object(r["a"])({url:"/staff/user/getPassword/"+e,method:"post"})},putPassword:function(e){return Object(r["a"])({url:"/staff/user/putPassword/"+e,method:"put"})},getClerkByDepartmentId:function(e){return Object(r["a"])({url:"/staff/clerk/getClerkByDepartmentId/"+e,method:"get"})},resetPassword:function(e){return Object(r["a"])({url:"/staff/user/resetPassword/"+e,method:"put"})}}},ee2f:function(e,t,a){}}]);