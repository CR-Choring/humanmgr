(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14f21566"],{"021e":function(t,e,a){"use strict";a.r(e);var n,c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"员工名称"},model:{value:t.attendanceQueryVo.clerkName,callback:function(e){t.$set(t.attendanceQueryVo,"clerkName",e)},expression:"attendanceQueryVo.clerkName"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"部门名称"},model:{value:t.attendanceQueryVo.departmentName,callback:function(e){t.$set(t.attendanceQueryVo,"departmentName",e)},expression:"attendanceQueryVo.departmentName"}})],1),a("el-form-item",[a("el-select",{attrs:{clearable:"",placeholder:"请选择考勤类型"},model:{value:t.attendanceQueryVo.status,callback:function(e){t.$set(t.attendanceQueryVo,"status",e)},expression:"attendanceQueryVo.status"}},t._l(t.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-button",{staticStyle:{"font-size":"16px"},attrs:{type:"primary"},on:{click:function(e){return t.getAttendanceListPage()}}},[t._v(" 查询")]),a("el-button",{staticStyle:{"font-size":"16px"},attrs:{type:"default"},on:{click:function(e){return t.resetData()}}},[t._v(" 清空")])],1),a("el-table",{attrs:{data:t.list,"element-loading-text":"数据加载中",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",width:"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s((t.page-1)*t.limit+e.$index+1))]}}])}),a("el-table-column",{attrs:{prop:"id",sortable:"",label:"编号",width:"150",align:"center"}}),a("el-table-column",{attrs:{prop:"time",sortable:"",label:"日期",width:"180",align:"center"}}),a("el-table-column",{attrs:{prop:"status",label:"类型",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"===e.row.status?a("span",[t._v("事假")]):"2"===e.row.status?a("span",[t._v("迟到")]):"3"===e.row.status?a("span",[t._v("早退")]):"4"===e.row.status?a("span",[t._v("病假")]):"5"===e.row.status?a("span",[t._v("旷工")]):"6"===e.row.status?a("span",[t._v("休补")]):a("span",[t._v(t._s(e.row.status))])]}}])}),a("el-table-column",{attrs:{prop:"clerkName",sortable:"",label:"员工姓名",width:"150",align:"center"}}),a("el-table-column",{attrs:{prop:"departmentName",sortable:"",label:"员工部门",width:"180",align:"center"}}),a("el-table-column",{attrs:{label:"操作",width:"320",fixed:"right",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"operation-buttons"},[a("router-link",{attrs:{to:"/attendance/updateAttendance/"+e.row.id}},[a("el-button",{staticStyle:{"font-size":"16px"},attrs:{type:"primary"}},[t._v(" 修改并重新提交")])],1),a("el-button",{staticStyle:{"font-size":"16px"},attrs:{type:"danger"},on:{click:function(a){return t.deleteAttendanceById(e.row.id)}}},[t._v(" 删除")])],1)]}}])})],1),a("el-pagination",{staticStyle:{padding:"30px 0","text-align":"center"},attrs:{"current-page":t.page,"page-size":t.limit,total:t.total,layout:"total, prev, pager, next, jumper"},on:{"current-change":t.getAttendanceListPage}})],1)},l=[],o=a("ade3"),r=a("2fd4"),s={data:function(){return{options:[{value:"1",label:"事假"},{value:"2",label:"迟到"},{value:"3",label:"早退"},{value:"4",label:"病假"},{value:"5",label:"旷工"},{value:"6",label:"休补"}],list:null,page:1,limit:6,total:0,attendanceQueryVo:{audit:"2"}}},created:function(){this.getAttendanceListPage()},methods:(n={resetData:function(){this.attendanceQueryVo={},this.getAttendanceListPage()},getAttendanceListPage:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.page=e,r["a"].getAttendanceListPage(this.page,this.limit,this.attendanceQueryVo).then((function(e){t.list=e.data.attendanceList,t.total=e.data.total})).catch((function(t){console.log(t)}))}},Object(o["a"])(n,"resetData",(function(){this.getAttendanceListPage()})),Object(o["a"])(n,"deleteAttendanceById",(function(t){var e=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){r["a"].deleteAttendanceById(t).then((function(t){e.$message({type:"success",message:"删除成功!"}),e.getAttendanceListPage()})).catch((function(t){e.$message({type:"warning",message:"删除失败!"})}))}))})),n)},i=s,u=(a("d046"),a("2877")),d=Object(u["a"])(i,c,l,!1,null,"e1bf6cec",null);e["default"]=d.exports},"2fd4":function(t,e,a){"use strict";a("99af");var n=a("b775");e["a"]={getAttendanceListPage:function(t,e,a){return Object(n["a"])({url:"/staff/attendance/listPage/".concat(t,"/").concat(e),method:"post",data:a})},getAttendance:function(t,e,a){return Object(n["a"])({url:"/staff/attendance/getAttendance/".concat(t,"/").concat(e),method:"post",data:a})},deleteAttendanceById:function(t){return Object(n["a"])({url:"/staff/attendance/".concat(t),method:"delete"})},addAttendance:function(t){return Object(n["a"])({url:"/staff/attendance",method:"post",data:t})},getAttendanceById:function(t){return Object(n["a"])({url:"/staff/attendance/".concat(t),method:"get"})},updateAttendance:function(t){return Object(n["a"])({url:"/staff/attendance",method:"put",data:t})},getAttendanceList:function(){return Object(n["a"])({url:"/staff/attendance/list",method:"get"})},updateAttendanceOk:function(t){return Object(n["a"])({url:"/staff/attendance/updateAttendanceOk/".concat(t),method:"put"})},updateAttendanceNo:function(t){return Object(n["a"])({url:"/staff/attendance/updateAttendanceNo/".concat(t),method:"put"})}}},cad2:function(t,e,a){},d046:function(t,e,a){"use strict";a("cad2")}}]);