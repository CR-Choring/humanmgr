(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65e96d1f"],{"4e49":function(t,e,n){"use strict";n("99af");var a=n("b775");e["a"]={getAnnouncementListPage:function(t,e,n){return Object(a["a"])({url:"/staff/announcement/listPage/".concat(t,"/").concat(e),method:"post",data:n})},getAnnouncementListPageClerk:function(t,e,n){return Object(a["a"])({url:"/staff/announcement/listPageClerk/".concat(t,"/").concat(e),method:"post",data:n})},deleteAnnouncementById:function(t){return Object(a["a"])({url:"/staff/announcement/".concat(t),method:"delete"})},addAnnouncement:function(t){return Object(a["a"])({url:"/staff/announcement",method:"post",data:t})},getAnnouncementById:function(t){return Object(a["a"])({url:"/staff/announcement/".concat(t),method:"get"})},updateAnnouncement:function(t){return Object(a["a"])({url:"/staff/announcement",method:"put",data:t})},getAnnouncementList:function(){return Object(a["a"])({url:"/staff/announcement/list",method:"get"})},numInfo:function(){return Object(a["a"])({url:"/staff/announcement/numInfo",method:"get"})}}},5698:function(t,e,n){"use strict";n.r(e);var a,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[n("el-form-item",[n("el-input",{attrs:{placeholder:"公告名称"},model:{value:t.announcementQueryVo.title,callback:function(e){t.$set(t.announcementQueryVo,"title",e)},expression:"announcementQueryVo.title"}})],1),n("el-button",{staticStyle:{"font-size":"16px"},attrs:{type:"primary"},on:{click:function(e){return t.getAnnouncementListPage()}}},[t._v(" 查询")]),n("el-button",{staticStyle:{"font-size":"16px"},attrs:{type:"default"},on:{click:function(e){return t.resetData()}}},[t._v(" 清空")])],1),n("el-table",{attrs:{data:t.list,"element-loading-text":"数据加载中",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{label:"序号",width:"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s((t.page-1)*t.limit+e.$index+1))]}}])}),n("el-table-column",{attrs:{prop:"id",sortable:"",label:"公告编号",width:"200"}}),n("el-table-column",{attrs:{prop:"title",sortable:"",label:"公告标题",width:"100"}}),n("el-table-column",{attrs:{prop:"time",sortable:"",label:"公告发布时间"}}),n("el-table-column",{attrs:{prop:"gmtCreate",sortable:"",label:"创建时间",width:"160"}}),n("el-table-column",{attrs:{label:"操作",width:"360",align:"center",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.roles.includes("人事经理")||t.roles.includes("管理员")?n("router-link",{attrs:{to:"/announcement/updateAnnouncement/"+e.row.id}},[n("el-button",{staticStyle:{"font-size":"16px"},attrs:{type:"primary"}},[t._v("修改")])],1):t._e(),n("router-link",{attrs:{to:"/inform/showAnnouncement/"+e.row.id}},[n("el-button",{staticStyle:{"font-size":"16px"},attrs:{type:"info"}},[t._v("查看")])],1),t.roles.includes("人事经理")||t.roles.includes("管理员")?n("el-button",{staticStyle:{"font-size":"16px"},attrs:{type:"danger"},on:{click:function(n){return t.deleteAnnouncementById(e.row.id)}}},[t._v("删除")]):t._e()]}}])})],1),n("el-pagination",{staticStyle:{padding:"30px 0","text-align":"center"},attrs:{"current-page":t.page,"page-size":t.limit,total:t.total,layout:"total, prev, pager, next, jumper"},on:{"current-change":t.getAnnouncementListPage}})],1)},c=[],l=n("ade3"),i=n("5530"),u=n("4e49"),r=n("2f62"),s={data:function(){return{list:null,page:1,limit:6,total:0,announcementQueryVo:{},isStaffRole:!1}},created:function(){this.getAnnouncementListPage(),console.log(112333),console.log(this.roles)},computed:Object(i["a"])({},Object(r["b"])(["roles"])),methods:(a={resetData:function(){this.announcementQueryVo={},this.getAnnouncementListPage()},getAnnouncementListPage:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.page=e,u["a"].getAnnouncementListPage(this.page,this.limit,this.announcementQueryVo).then((function(e){t.list=e.data.announcementList,t.total=e.data.total})).catch((function(t){console.log(t)}))}},Object(l["a"])(a,"resetData",(function(){this.getAnnouncementListPage()})),Object(l["a"])(a,"deleteAnnouncementById",(function(t){var e=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){u["a"].deleteAnnouncementById(t).then((function(t){e.$message({type:"success",message:"删除成功!"}),e.getAnnouncementListPage()})).catch((function(t){e.$message({type:"warning",message:"删除失败!"})}))}))})),a)},m=s,f=n("2877"),d=Object(f["a"])(m,o,c,!1,null,null,null);e["default"]=d.exports}}]);