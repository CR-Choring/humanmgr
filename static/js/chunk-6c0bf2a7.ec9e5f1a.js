(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c0bf2a7"],{"9ffe":function(t,e,a){"use strict";a("99af");var r=a("b775");e["a"]={getClerkListPage:function(t,e,a){return Object(r["a"])({url:"/staff/clerk/listPage/".concat(t,"/").concat(e),method:"post",data:a})},getClerkListPageLizhi:function(t,e,a){return Object(r["a"])({url:"/staff/clerk/listPageLiZhi/".concat(t,"/").concat(e),method:"post",data:a})},deleteClerkById:function(t){return Object(r["a"])({url:"/staff/clerk/".concat(t),method:"delete"})},addClerk:function(t){return Object(r["a"])({url:"/staff/clerk",method:"post",data:t})},getClerkById:function(t){return Object(r["a"])({url:"/staff/clerk/".concat(t),method:"get"})},updateClerk:function(t){return Object(r["a"])({url:"/staff/clerk",method:"put",data:t})},getClerkList:function(){return Object(r["a"])({url:"/staff/clerk/list",method:"get"})},getClerkAndUserRole:function(){return Object(r["a"])({url:"/staff/clerk/getClerkAndUserRole",method:"post"})},updateUser:function(t){return Object(r["a"])({url:"/staff/user",method:"put",data:t})},getPassword:function(t){return Object(r["a"])({url:"/staff/user/getPassword/"+t,method:"post"})},putPassword:function(t){return Object(r["a"])({url:"/staff/user/putPassword/"+t,method:"put"})},getClerkByDepartmentId:function(t){return Object(r["a"])({url:"/staff/clerk/getClerkByDepartmentId/"+t,method:"get"})},resetPassword:function(t){return Object(r["a"])({url:"/staff/user/resetPassword/"+t,method:"put"})}}},a2ba:function(t,e,a){"use strict";a.r(e);var r,n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"员工名称"},model:{value:t.clerkQueryVo.name,callback:function(e){t.$set(t.clerkQueryVo,"name",e)},expression:"clerkQueryVo.name"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"员工职位"},model:{value:t.clerkQueryVo.position,callback:function(e){t.$set(t.clerkQueryVo,"position",e)},expression:"clerkQueryVo.position"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"部门名称"},model:{value:t.clerkQueryVo.departmentName,callback:function(e){t.$set(t.clerkQueryVo,"departmentName",e)},expression:"clerkQueryVo.departmentName"}})],1),a("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"primary"},on:{click:function(e){return t.getClerkListPage()}}},[t._v(" 查询")]),a("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"default"},on:{click:function(e){return t.resetData()}}},[t._v(" 清空")]),a("el-button",{staticStyle:{margin:"0 0 20px 20px","font-size":"18px"},attrs:{loading:t.downloadLoading,type:"primary"},on:{click:t.handleDownload}},[t._v(" 下载Excel ")])],1),a("el-table",{attrs:{data:t.list,"element-loading-text":"数据加载中",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"照片"}},[a("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.baseApi+e.row.photo,fit:"contain"}})],1),a("br"),a("el-form-item",{attrs:{label:"员工名称"}},[a("span",[t._v(t._s(e.row.name))])]),a("br"),a("el-form-item",{attrs:{label:"员工性别"}},[a("span",[t._v(t._s(1==e.row.sex?"男":"女"))])]),a("br"),a("el-form-item",{attrs:{label:"员工手机号码"}},[a("span",[t._v(t._s(e.row.phoneNumber))])]),a("br"),a("el-form-item",{attrs:{label:"员工身份证"}},[a("span",[t._v(t._s(e.row.idCard))])]),a("br"),a("el-form-item",{attrs:{label:"员工住址"}},[a("span",[t._v(t._s(e.row.address))])])],1)]}}])}),a("el-table-column",{attrs:{label:"序号",width:"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s((t.page-1)*t.limit+e.$index+1))]}}])}),a("el-table-column",{attrs:{prop:"id",sortable:"",label:"员工编号",width:"200"}}),a("el-table-column",{attrs:{prop:"name",sortable:"",label:"员工姓名",width:"100"}}),a("el-table-column",{attrs:{prop:"position",sortable:"",label:"员工职位"}}),a("el-table-column",{attrs:{prop:"departmentId",sortable:"",label:"员工部门",width:"100"}}),a("el-table-column",{attrs:{label:"操作",width:"300",align:"center",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"action-button-group"},[a("router-link",{attrs:{to:"/clerk/updateClerk/"+e.row.id}},[a("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("修改")])],1),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return t.deleteClerkById(e.row.id)}}},[t._v(" 员工离职 ")])],1)]}}])})],1),a("el-pagination",{staticStyle:{padding:"30px 0","text-align":"center"},attrs:{"current-page":t.page,"page-size":t.limit,total:t.total,layout:"total, prev, pager, next, jumper"},on:{"current-change":t.getClerkListPage}})],1)},l=[],o=a("ade3"),i=(a("d3b7"),a("3ca3"),a("ddb0"),a("d81d"),a("9ffe")),s={data:function(){return{downloadLoading:!1,list:null,page:1,limit:6,total:0,clerkQueryVo:{},baseApi:"https://api-administration.choringedu.cn"}},created:function(){this.getClerkListPage()},methods:(r={handleDownload:function(){var t=this;this.downloadLoading=!0,Promise.all([a.e("chunk-f2c374ea"),a.e("chunk-2133cd4f")]).then(a.bind(null,"4bf8")).then((function(e){var a=["编号","姓名","照片","性别","部门","职位","手机号","身份证号","住址"],r=["id","name","photo","sex","departmentId","position","phoneNumber","idCard","address"],n=t.list,l=t.formatJson(r,n);e.export_json_to_excel({header:a,data:l,filename:"员工信息",autoWidth:!0,bookType:"xlsx"}),t.downloadLoading=!1}))},formatJson:function(t,e){return e.map((function(e){return t.map((function(t){return"timestamp"===t?parseTime(e[t]):e[t]}))}))},resetData:function(){this.clerkQueryVo={},this.getClerkListPage()},getClerkListPage:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.page=e,i["a"].getClerkListPage(this.page,this.limit,this.clerkQueryVo).then((function(e){t.list=e.data.clerkList,t.total=e.data.total})).catch((function(t){console.log(t)}))}},Object(o["a"])(r,"resetData",(function(){this.getClerkListPage()})),Object(o["a"])(r,"deleteClerkById",(function(t){var e=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){i["a"].deleteClerkById(t).then((function(t){e.$message({type:"success",message:"删除成功!"}),e.getClerkListPage()})).catch((function(t){e.$message({type:"warning",message:"删除失败!"})}))}))})),r)},c=s,u=(a("d8e5"),a("2877")),d=Object(u["a"])(c,n,l,!1,null,"384a4ef2",null);e["default"]=d.exports},cb4f:function(t,e,a){},d8e5:function(t,e,a){"use strict";a("cb4f")}}]);